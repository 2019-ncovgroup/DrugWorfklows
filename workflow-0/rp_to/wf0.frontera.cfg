
{
    "workload" : {
      # "smiles"         : "BL2_filtered.csv",
        "smiles"         : "Orderable_zinc_db_enaHLL.csv",
      # "receptor"       : "receptorsV5.1/3CLPro_6LU7_A_1_F.oeb",
        "receptor"       : "ADRP_ADPR_pocket1_rec_6W02_A__DU__APR_A-201.oeb.gz",
        "sdf"            : "out.sdf",
        "localf"         : "./",
        "force_flipper"  : true,
        "verbose"        : true,
        "timeout"        : 180,
        "use_hybrid"     : true,
        "high_resolution": true,
        "input_dir"      : "/scratch1/01083/tg803521/covid-19-0/Model-generation/input/",
        "impress_dir"    : "/scratch1/01083/tg803521/covid-19-0/Model-generation/impress_md",
        "oe_license"     : "/scratch1/01083/tg803521/covid-19-0/DrugWorfklows/workflow-0/oe_license.txt"
    },


    "runtime"   : 300,
    "cpn"       :  56,
    "gpn"       :   0,

    # numbers should be powers of two
    "nodes"     : 128,
    "n_masters" :   1,

    "master"    : "wf0_master.py",
    "worker"    : "wf0_worker.py",

    "msg_batch" : 10,

    "pilot_descr"  : {
        "resource"     : "tacc.frontera",
        "project"      : "FTA-Jha",
        "staging_input": ["oe_license.txt"],
        "access_schema": "ssh"
    },

    "master_descr" : {
        "executable"   : "python3",
        "pre_exec"     : [
                          "export OE_LICENSE=./oe_license.txt",
                          "module reset",
                          ". $RP_PILOT_SANDBOX/deactivate",
                          "module load TACC",
                          "module unload intel",
                          "module unload impi",
                          "module load   intel",
                          "module load   impi",
                          "module unload python3",
                          ". /scratch1/01083/tg803521/miniconda3/etc/profile.d/conda.sh",
                          "conda activate",
                          "conda activate covid-19-0",
                        # "which conda",
                        # "which python",
                        # "which python3",
                        # "env | sort > e1",
                        # "python3 -V",
                        # "which radical-stack",
                        # "echo '-------------'",
                          "export PATH=/scratch1/01083/tg803521/miniconda3/envs/covid-19-0/bin:$PATH",
                          "unset PYTHONHOME",
                        # "which conda",
                        # "which python",
                        # "which python3",
                        # "env | sort > e1",
                        # "python3 -V",
                        # "which radical-stack",
                          "radical-stack"
                         ]
    },

    "worker_descr" : {
        "executable"   : "python3",
        "pre_exec"     : [
                          "export OE_LICENSE=./oe_license.txt",
                          "module reset",
                          ". $RP_PILOT_SANDBOX/deactivate",
                          "module load TACC",
                          "module unload intel",
                          "module unload impi",
                          "module load   intel",
                          "module load   impi",
                          "module unload python3",
                          ". /scratch1/01083/tg803521/miniconda3/etc/profile.d/conda.sh",
                          "conda activate",
                          "conda activate covid-19-0",
                        # "which conda",
                        # "which python",
                        # "which python3",
                        # "env | sort > e1",
                        # "python3 -V",
                        # "which radical-stack",
                        # "echo '-------------'",
                          "export PATH=/scratch1/01083/tg803521/miniconda3/envs/covid-19-0/bin:$PATH",
                          "unset PYTHONHOME",
                        # "which conda",
                        # "which python",
                        # "which python3",
                        # "env | sort > e1",
                        # "python3 -V",
                        # "which radical-stack",
                          "radical-stack"
                         ]
    }
}

